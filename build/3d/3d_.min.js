!function(e,t,i){function n(e){w.font="bold "+e+"px "+m}function a(e){return!isNaN(parseFloat(e))&&isFinite(e)}if(!e)return!1;var r=document.querySelector(i),o=new THREE.PerspectiveCamera(45,r.clientWidth/r.clientHeight,1,2e3),d=new THREE.Scene;d.add(new THREE.AmbientLight(16777215));var c,s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},l=new THREE.Clock,h=document.createElement("canvas");h.style.background="linear-gradient(to bottom, rgba(255,255,255,.5) 0%, rgba(246,246,246,.5) 47%, rgba(237,237,237,.5) 100%)",h.style.position="fixed",h.style.zIndex=399999,h.style.right="0",h.style.top="0",h.width=500,h.height=300;var w=h.getContext("2d"),m="Avenir, Helvetica Neue, Helvetica, Arial, sans-serif",u=100,g=4,E=20;t._3d={Canvas:r,Camera:o,Scene:d,Action:function(){var e=t._3d.Renderer=new THREE.WebGLRenderer({canvas:r});e.setPixelRatio(t.devicePixelRatio),e.setSize(r.clientWidth,r.clientHeight);var i=t._3d.Stats=new Stats;document.body.appendChild(i.dom),t.addEventListener("resize",function(){o.aspect=r.clientWidth/r.clientHeight,o.updateProjectionMatrix(),e.setSize(r.clientWidth,r.clientHeight)},!1)},Loop:function(e){var i=l.getDelta();THREE.AnimationHandler.update(i),t._3d.Renderer.render(t._3d.Scene,t._3d.Camera),t._3d.Stats.update(),c=c?c:e,c(i),s.call(t,this.Loop.bind(this))},W:t,Text:function(t){var i=0,r=null;n(u),i=Math.min(u,h.width/w.measureText(t[0]).width*.8*u,h.height/u*(a(t[0])?1:.45)*u),n(i),w.clearRect(0,0,h.width,h.height);for(var o=0;o<t.length;o++)w.fillText(t[o],0,i*(o+1));for(var d=w.getImageData(0,0,h.width,h.height).data,c=0,s=0,l=(h.width,h.height,0);l<d.length;l+=4*g){if(d[l+3]>0){r||(r=new e.Geometry);for(var m=0;m<10;m++){var f=new THREE.Vector3(c/E,-s/E,m/E);r.vertices.push(f)}}c+=g,c>=h.width&&(c=0,s+=g,l+=4*g*h.width)}var v=new THREE.PointsMaterial({color:"#ffffff",size:g/E,blending:THREE.AdditiveBlending,transparent:!0});return new THREE.Points(r,v)}}}(THREE,window,"#main");